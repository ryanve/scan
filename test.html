<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="dns-prefetch" href="//airve.com">
    <title>scan: test suite</title>
    <meta name=viewport content="width=device-width,initial-scale=1.0">
    <meta name=description content="JavaScript test suite for scan.js">
    <meta name=author content="Ryan Van Etten">
    <link rel=stylesheet href="http://airve.com/css/sitewide.201301233.css">
    <style>
        body { width:96%; }
    </style>
</head>
<body>

<h1>
    <a href="http://github.com/ryanve/scan">scan</a>: test suite
</h1>

<main id="main" role="main">
    <h2>Test Elements</h2>
    <p>Open the console for results.</p>
    <div id="e1" class="div"></div>
    <div id="e2" class="div"></div>
    <div id="e3" class="div"></div>
    <div class="div"><span>1</span><span>2</span><span>3</span></div>
    <div class="div"></div>
</main>

<script src="http://airve.github.io/js/aok/aok.min.js"></script>
<script src="http://airve.github.io/js/ender/ender.js"></script>
<script src="scan.js"></script>
<script>
    (function(root, document) {
        var aok = root['aok']
          , scan = root['scan']
          , ender = root['ender']
          , docElem = document.documentElement
          , byClass = 'getElementsByClassName'
          , byTag = 'getElementsByTagName'
          , hasByClass = !!document[byClass]
          , all = document.querySelectorAll('*');

        // Use alert if console is unavail.
        aok.prototype.express.force = true;
        
        document[byTag]();

        aok({
            id: 'qsaBasic',
            test: function() {
                return (
                    scan.qsa('div').length === document[byTag]('div').length
                 && (!hasByClass || scan.qsa('.div').length === document[byClass]('div').length)
                );
            }
        });
        aok({
            id: 'contains',
            test: function() {
                return (
                    true === scan.contains('string', 's')
                 && true === scan.contains('string', 'ring')
                 && false === scan.contains('string', 'a')
                 && true === scan.contains(docElem, docElem[byTag]('*')[0])
                 && false === scan.contains(docElem[byTag]('*')[0], docElem)
                 && true === scan.contains([0, 1, 2], 1)
                 && false === scan.contains([0, 1, 2], 3)
                 && false === scan.contains({}, 1)
                );
            }
        });
    }(this, document));
</script>
</body>
</html>